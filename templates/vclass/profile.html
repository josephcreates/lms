{% extends 'student/base_student.html' %}

{% block title %}My Profile{% endblock %}

{% block content %}
<div class="container my-4">

  <!-- Header with picture -->
  <div class="text-center mb-4">
    <img src="{{ user.profile_picture_url }}"
         class="rounded-circle shadow-sm"
         alt="Profile Picture"
         style="width: 120px; height: 120px; object-fit: cover; border: 4px solid #1fa84a;">
    <h3 class="mt-3 text-primary">{{ user.full_name }}</h3>
    <p class="text-muted">{{ profile.current_class or 'Student' }}</p>
  </div>

  <!-- Info cards -->
  <div class="row g-4">
    <!-- Personal Info -->
    <div class="col-md-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-light">
          <i class="bi bi-person-lines-fill me-2 text-primary"></i><strong>Personal Info</strong>
        </div>
        <div class="card-body">
          <p><strong>Date of Birth:</strong> {{ profile.dob.strftime('%B %d, %Y') if profile.dob else 'N/A' }}</p>
          <p><strong>Gender:</strong> {{ profile.gender or 'N/A' }}</p>
          <p><strong>Blood Group:</strong> {{ profile.blood_group or 'N/A' }}</p>
          <p><strong>Medical Conditions:</strong> {{ profile.medical_conditions or 'None' }}</p>
        </div>
      </div>
    </div>

    <!-- Contact Info -->
    <div class="col-md-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-light">
          <i class="bi bi-telephone-fill me-2 text-primary"></i><strong>Contact Info</strong>
        </div>
        <div class="card-body">
          <p><strong>Address:</strong> {{ profile.address or 'N/A' }}</p>
          <p><strong>City:</strong> {{ profile.city or 'N/A' }}</p>
          <p><strong>State:</strong> {{ profile.state or 'N/A' }}</p>
          <p><strong>Postal Code:</strong> {{ profile.postal_code or 'N/A' }}</p>
          <p><strong>Phone:</strong> {{ profile.phone or 'N/A' }}</p>
          <p><strong>Email:</strong> {{ profile.email or 'N/A' }}</p>
        </div>
      </div>
    </div>

    <!-- Guardian Info -->
    <div class="col-md-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-light">
          <i class="bi bi-people-fill me-2 text-primary"></i><strong>Guardian Info</strong>
        </div>
        <div class="card-body">
          <p><strong>Name:</strong> {{ profile.guardian_name or 'N/A' }}</p>
          <p><strong>Relation:</strong> {{ profile.guardian_relation or 'N/A' }}</p>
          <p><strong>Contact:</strong> {{ profile.guardian_contact or 'N/A' }}</p>
        </div>
      </div>
    </div>

    <!-- Academic Info -->
    <div class="col-md-6">
      <div class="card shadow-sm h-100">
        <div class="card-header bg-light">
          <i class="bi bi-mortarboard-fill me-2 text-primary"></i><strong>Academic Info</strong>
        </div>
        <div class="card-body">
          <p><strong>Current Class:</strong> {{ profile.current_class or 'N/A' }}</p>
          <p><strong>Academic Year:</strong> {{ profile.academic_year or 'N/A' }}</p>
          <p><strong>Preferred 2nd Language:</strong> {{ profile.preferred_second_language or 'N/A' }}</p>
          <p><strong>Previous School:</strong> {{ profile.previous_school or 'N/A' }}</p>
          <p><strong>Last Class Completed:</strong> {{ profile.last_class_completed or 'N/A' }}</p>
          <p><strong>Academic Performance:</strong> {{ profile.academic_performance or 'N/A' }}</p>
        </div>
      </div>
    </div>

    <!-- Emergency & Sibling Info -->
    <div class="col-md-12">
      <div class="card shadow-sm">
        <div class="card-header bg-light">
          <i class="bi bi-exclamation-triangle-fill me-2 text-danger"></i><strong>Emergency & Sibling Info</strong>
        </div>
        <div class="card-body row">
          <div class="col-md-6">
            <p><strong>Emergency Contact Name:</strong> {{ profile.emergency_contact_name or 'N/A' }}</p>
            <p><strong>Emergency Contact Number:</strong> {{ profile.emergency_contact_number or 'N/A' }}</p>
          </div>
          <div class="col-md-6">
            <p><strong>Sibling Name:</strong> {{ profile.sibling_name or 'N/A' }}</p>
            <p><strong>Sibling Class:</strong> {{ profile.sibling_class or 'N/A' }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
